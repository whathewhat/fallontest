"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[189],{1548:(e,t,a)=>{a.d(t,{A:()=>i,t:()=>s});var l=a(4848),r=a(6540);class n extends r.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){if(this.state.hasError){var e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{children:"Something went wrong."}),(0,l.jsx)("p",{children:null===(e=this.state.error)||void 0===e?void 0:e.message})]})}return this.props.children}constructor(e){super(e),this.state={hasError:!1}}}let s=n,i=n},1189:(e,t,a)=>{a.d(t,{P:()=>Y,A:()=>ee});var l=a(4848),r=a(6540),n=a(6715),s=a(2578),i=a(4164),o=a(1548),c=a(1106),d=a.n(c),p=a(6897);let u=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],a=e.trim();return a=a.replace(/\/+/g,"/"),a=t?a.startsWith("/")?a:"/".concat(a):a.startsWith("/")?a.substring(1):a},m=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let l=t.map(e=>e.trim().replace(/^\/+|\/+$/g,""));return"/".concat(l.filter(Boolean).join("/"))},x=e=>{let{placement:t,handleClose:a,langLinks:o}=e,[c,d]=(0,r.useState)(!1),u=(0,n.useRouter)(),x=(0,s.useTranslations)("common"),{locales:h=[],locale:g}=u,f=()=>d(e=>!e),b=()=>d(!1),v=function(e){let t=(0,r.useRef)(null);return!function(e){let{eventName:t,handler:a,element:l=globalThis}=e,n=(0,r.useRef)(a);(0,r.useEffect)(()=>{n.current=a},[a]),(0,r.useEffect)(()=>{if("function"!=typeof(null==l?void 0:l.addEventListener))return;let e=e=>{n.current&&n.current(e)};return l.addEventListener(t,e),()=>{l.removeEventListener(t,e)}},[t,l])}({eventName:"mousedown",handler:a=>{let l=null==t?void 0:t.current;!l||!(a.target instanceof Node)||l.contains(a.target)||e(a)}}),t}(b),w="footer"==t;(0,r.useEffect)(()=>{b()},[g]);let j=g||"",_=(null==o?void 0:o.languageLinks)||[];return(0,l.jsxs)("div",{ref:v,className:"relative ".concat(w?"footer-lang w-[192px]":""),children:[(0,l.jsx)("span",{className:"sr-only",children:x("language-switcher")}),w?_&&_.filter(e=>{let{lang:t}=e;return t===g}).map(e=>{let{lang:t,name:a,url:r}=e;return(0,l.jsxs)("button",{type:"button",className:"h-10 border border-input px-6 py-2 text-sm ring-offset-background placeholder:text-muted-foreground  w-48 rounded-[.2rem] bg-[#131b29] text-white border-none flex justify-between items-center",onClick:f,"aria-expanded":c,"aria-controls":"language-switcher-dialog","aria-haspopup":"dialog","aria-label":x("language.select"),children:[a,(0,l.jsx)("span",{className:"relative before:content-[''] before:inline-block before:border-l-[0.3em] before:border-r-[0.3em] before:border-t-[0.3em] before:border-transparent before:border-t-white before:ml-[0.255em] before:align-middle"})]},t)}):(0,l.jsxs)("button",{type:"button",className:"hidden lg:block px-[4px] py-[11px] min-w-[40px] min-h-[40px] justify-center flex items-center 1140:px-[0.75rem] text-[15px] rounded-[10px] transition-colors duration-200 bg-nav-med secondary-nav-hover",onClick:f,"aria-expanded":c,"aria-controls":"language-switcher-dialog","aria-haspopup":"dialog","aria-label":x("language.select"),children:[(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:"inline-block","aria-hidden":"true",children:[(0,l.jsx)("path",{d:"M8 1.17647C11.7647 1.17647 14.8235 4.23529 14.8235 8C14.8235 11.7647 11.7647 14.8235 8 14.8235C4.23529 14.8235 1.17647 11.7647 1.17647 8C1.17647 4.23529 4.23529 1.17647 8 1.17647ZM8 0C3.58588 0 0 3.58588 0 8C0 12.4141 3.58588 16 8 16C12.4141 16 16 12.4141 16 8C16 3.58588 12.4141 0 8 0Z",fill:"currentColor"}),(0,l.jsx)("path",{d:"M15.4543 7.40723H0.668457V8.5837H15.4543V7.40723Z",fill:"currentColor"}),(0,l.jsx)("path",{d:"M8.00933 15.8211C5.80698 15.8211 4.62109 11.7928 4.62109 7.99989C4.62109 4.20695 5.80698 0.178711 8.00933 0.178711C10.2117 0.178711 11.407 4.20695 11.407 7.99989C11.407 11.7928 10.2211 15.8211 8.00933 15.8211ZM8.00933 1.35518C7.08698 1.35518 5.79756 3.88695 5.79756 7.99989C5.79756 12.1128 7.08698 14.6446 8.00933 14.6446C8.93168 14.6446 10.2305 12.1128 10.2305 7.99989C10.2305 3.88695 8.94109 1.35518 8.00933 1.35518Z",fill:"currentColor"})]}),(0,l.jsx)("span",{className:"text ml-[6px] hidden 1140:inline align-middle uppercase",children:j},g)]}),(0,l.jsxs)("div",{className:(0,i.A)("min-w-full absolute  right-0 z-50 flex flex-col",!c&&w?"hidden":"",!c&&"lg:hidden",w?"bottom-full -mb-[3px] pb-[8px] pt-[5px]  bg-[#131b29] rounded-tl-[5px] rounded-tr-[px]":"scrollable h-[480px] lg:h-auto lg:max-h-[calc(100vh-130px)] max-h-[calc(100vh-46px)] lg:overflow-auto   lg:mt-[14px] whitespace-nowrap bg-nav-light rounded-[10px] shadow-lg   lg:pr-[5px]  lg:pl-[10px] pb-[10px] lg:pt-[10px]"),role:"dialog","aria-modal":"true","aria-label":x("language.select"),id:"language-switcher-dialog",children:[w?"":(0,l.jsxs)("div",{className:"pl-[48px] lg:pl-[10px] lg:pr-[10px] flex items-center mt-[3px] lg:mt-[7px] ".concat(_.length?"lg:mb-[13px]":"lg:mb-0"," text-white font-bold border-b-[1px] border-b-nav-med lg:border-b-0"),id:"language-switcher-title",children:[(0,l.jsx)("h2",{className:"text-[1.25rem]  lg:text-[1rem] leading-1 font-bold text-white flex-[1_1_auto] text-center lg:text-left",children:x("language.select")}),(0,l.jsx)("button",{onClick:a,className:"ml-auto lg:hidden w-12 h-12 align-middle focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2","aria-label":x("modal-close"),children:(0,l.jsx)(p.A,{className:"w-6 h-6 text-white m-auto","aria-hidden":"true",role:"presentation"})})]}),(0,l.jsxs)("div",{role:"menu","aria-labelledby":"language-switcher-title",tabIndex:-1,className:"".concat(w?"":"min-w-[183px] pt-[20px] pb-[55px] px-[20px]"," lg:pb-0 lg:pt-[5px]  lg:px-0 overflow-y-auto  scrollable"),children:[!w&&_&&_.filter(e=>{let{lang:t}=e;return t===g}).map(e=>{let{lang:t,name:a}=e;return(0,l.jsxs)("button",{className:(0,i.A)("text-[1.125rem] lg:mb-0.5 mb-[10px] lg:text-[1rem] flex items-center justify-between p-[10px] text-white rounded-[10px] transition-colors duration-200 hover:bg-nav-med secondary-nav-hover w-full text-left"),role:"menuitem","aria-label":a,children:[a,(0,l.jsx)("span",{className:"h-2 w-2 bg-[#65efbd] rounded-full","aria-hidden":"true"})]},t)}),(0,l.jsx)("div",{className:"lg:pr-[5px]",children:_.filter(e=>{let{lang:t}=e;return t!==g}).map(e=>{let{lang:t,name:a,url:r}=e,n="/search-results"===u.pathname,s=u.query.query,o="en"!==t?m(t,r):r;if(n&&s){let e=Array.isArray(s)?s[0]:s;o="".concat(o).concat(o.includes("?")?"&":"?","query=").concat(encodeURIComponent(e))}return(0,l.jsx)("a",{className:(0,i.A)("transition-colors duration-200",w?"px-[1.5rem] block text-[16px] py-[.25rem] before:content-['âœ”'] hover:before:block before:hidden before:left-[5px] before:absolute before:leading-[1.01] hover:bg-[#2abffd] hover:text-[#e9f6fe]":"text-[1.125rem] lg:mb-0.5 mb-[10px] lg:text-[1rem] flex items-center justify-between p-[10px] text-white rounded-[10px] transition-colors duration-200 hover:bg-nav-med secondary-nav-hover w-full text-left"),role:"menuitem","aria-label":a,href:o,children:a},t)})})]})]})]})};function h(e){let{langLinks:t}=e,a=(0,s.useTranslations)("common"),i=(0,s.useTranslations)("footer"),o=(0,n.useRouter)(),c=r.useMemo(()=>{try{let e=i.raw("menu");return Array.isArray(e)?e:[]}catch(e){return console.error("Error processing footer sections:",e),[]}},[i]);return c.length?(0,l.jsx)("footer",{className:"bg-[#060d19] pb-[70px] lg:pb-10 pt-[45px] text-white text-[.875rem]",role:"contentinfo","aria-label":a("footer"),children:(0,l.jsx)("div",{className:"px-[15px] max-w-[1200px] mx-[auto]",children:(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("div",{className:"hidden xl:block w-[200px] px-[15px]","aria-hidden":"true"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"mb-[27px] border-gray-700 pb-2 border-b-[1px] border-[#505050]",children:[(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsxs)("p",{children:[(0,l.jsxs)(d(),{href:"/suggest-a-game",className:"text-primary font-bold hover:underline uppercase","aria-label":"".concat(a("suggest_game")," - ").concat(a("suggest_game_text")),children:[a("suggest_game"),"\xa0"]}),a("suggest_game_text")]})}),(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsxs)("p",{children:[(0,l.jsxs)(d(),{href:"https://developers.coolmathgames.com",className:"text-primary font-bold hover:underline uppercase","aria-label":"".concat(a("submit_game")," - ").concat(a("submit_game_text")),children:[a("submit_game"),"\xa0"]}),a("submit_game_text")]})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{id:"privacy-policy-heading",className:"mb-0 uppercase font-bold text-primary",children:(0,l.jsx)(d(),{href:"".concat("en"===o.locale?"":"/".concat(o.locale),"/privacyp"),className:"text-primary hover:underline","aria-labelledby":"privacy-policy-heading",children:a("privacy_policy")})}),(0,l.jsxs)("p",{children:[a("copyright_text")," ",(0,l.jsx)(d(),{href:"http://coolmath.com/copyright-infringement-notice-procedure",className:"text-primary underline","aria-label":a("copyright_link_aria"),children:a("copyright_link")}),"."]})]})]}),(0,l.jsx)("nav",{className:"grid sm:grid-cols-[46%_46%] lg:grid-cols-[226px_171px_171px_196px_132px] lg:mb-[10px]",role:"navigation","aria-label":a("footer_navigation"),children:c.map((e,t)=>{var r;return(0,l.jsxs)("div",{className:"mb-3 mr-4 footer-menu-column-".concat(t," lg:last:ml-4"),role:"region","aria-labelledby":"footer-section-".concat(t),children:[(0,l.jsx)("h3",{id:"footer-section-".concat(t),className:"mb-[2px] text-[.875rem] font-bold uppercase whitespace-nowrap",children:e.title}),(0,l.jsx)("ul",{role:"list",className:"mt-[4px]",children:null===(r=e.children)||void 0===r?void 0:r.map(t=>(0,l.jsx)("li",{className:"pb-[3px] pt-[3px]",role:"listitem",children:(0,l.jsx)(d(),{href:t.url,className:"text-primary hover:underline leading-[1.4]",prefetch:!1,"aria-label":"".concat(t.title," - ").concat(e.title," ").concat(a("section")),children:t.title})},t.title))})]},e.title)})}),(0,l.jsx)(x,{langLinks:t,placement:"footer"}),(0,l.jsx)("div",{className:"mt-3 text-left pb-[15px] text-[16px]",role:"contentinfo","aria-label":a("copyright"),children:(0,l.jsx)("p",{className:"text-[#7a7a7a] mb-[1rem]",children:"\xa9 ".concat(new Date().getFullYear()," Coolmath.com LLC. ").concat(a("copyright_notice"))})})]})]})})}):(0,l.jsx)("footer",{className:"body-dark pb-[70px] lg:pb-10 pt-[45px]",children:(0,l.jsx)("div",{className:"px-[15px] max-w-[1200px] mx-[auto]",children:(0,l.jsx)("div",{className:"animate-pulse bg-gray-700 h-40"})})})}var g=a(4420),f=a(8155),b=a(9965),v=a.n(b),w=a(258),j=a(8221),_=a.n(j),y=a(159);let N=e=>{let{device:t="desktop",handleClose:a}=e,i=(0,n.useRouter)(),{query:o}=i.query,[c,p]=(0,r.useState)(!1),[u,m]=(0,r.useState)(""),x=(0,r.useRef)(null),h=(0,r.useRef)(null),g=(0,r.useRef)(null),[b,j]=(0,r.useState)(!1),N=i.locale||"en",C=(0,s.useTranslations)("common"),[k,S]=(0,r.useState)([]),[E,L]=(0,r.useState)([]),[R,P]=(0,r.useState)([]),[T,F]=(0,r.useState)([]),[M,A]=(0,r.useState)([]),[z,D]=(0,r.useState)(0),I=e=>{let{color:t,width:a,height:r,className:n=""}=e;return(0,l.jsx)("svg",{width:a,className:n,height:r,viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:(0,l.jsxs)("g",{id:"Search",children:[(0,l.jsx)("path",{id:"Vector",d:"M6.79 1.75C9.85 1.75 12.33 4.24 12.33 7.29C12.33 10.34 9.84 12.83 6.79 12.83C3.74 12.83 1.25 10.35 1.25 7.29C1.25 4.23 3.74 1.75 6.79 1.75ZM6.79 0.5C3.04 0.5 0 3.54 0 7.29C0 11.04 3.04 14.08 6.79 14.08C10.54 14.08 13.58 11.04 13.58 7.29C13.58 3.54 10.54 0.5 6.79 0.5Z",fill:t}),(0,l.jsx)("path",{id:"Vector_2",d:"M16.3801 17.5C16.2201 17.5 16.0601 17.44 15.9401 17.32L11.0401 12.42C10.8001 12.18 10.8001 11.78 11.0401 11.54C11.2801 11.3 11.6801 11.3 11.9201 11.54L16.8201 16.44C17.0601 16.68 17.0601 17.08 16.8201 17.32C16.7001 17.44 16.5401 17.5 16.3801 17.5Z",fill:t})]})})},B=e=>{let{title:t,className:a="",clickHandler:r}=e;return(0,l.jsx)(f.pH,{mark:u,children:(0,l.jsx)("button",{className:"rounded-[10px] font-bold m-[0_-10px_3px] game-suggestion block min-w-full text-left",onClick:e=>{e.stopPropagation(),r(e)},role:"option","aria-selected":"false","aria-label":"Search for ".concat(t),children:(0,l.jsxs)("span",{className:"block cursor-pointer p-[10px_10px_10px_32px] rounded-[10px] relative ".concat(a," hover:translate-y-[-4px] transition-all duration-300 ease-out hover:shadow-[0_3px_0_#041e38,0_4px_0_#060d19] hover:bg-nav-med"),children:[(0,l.jsx)(I,{className:"pointer-events-none absolute left-[9.5px] top-[calc(50%-7px)]",color:"#B4C4D4",width:15,height:15}),t]})})})},U=e=>{let{image:t,title:a,description:r,name:n,url:s,type:i="",mpv:o="",device:c="desktop"}=e,p=s.replace("https://www.coolmathgames.com","");return(0,l.jsx)(f.pH,{mark:u,children:(0,l.jsxs)(d(),{href:p,className:"".concat("cat"===n?"cat-item":"game-item"," flex items-center p-[10px] mb-[5px] rounded-[10px] hover:translate-y-[-4px] transition-all duration-300 ease-out hover:shadow-[0_3px_0_#112944,0_4px_0_#060d19] hover:bg-nav-med focus:translate-y-[-4px] focus:shadow-[0_1px_0_#112944,0_2px_0_#060d19] focus:bg-nav-med cursor-pointer"),onClick:e=>{e.preventDefault(),e.stopPropagation(),H.current=!0,O(),setTimeout(()=>{if("en"!==N){let e=s.replace("https://www.coolmathgames.com",""),t="/".concat(N);if(!e.startsWith(t)){let a="".concat("https://www.coolmathgames.com").concat(t).concat(e.startsWith("/")?e:"/".concat(e));window.location.href=a;return}}window.location.href=s},150)},role:"option","aria-selected":"false","aria-label":"".concat(a," - ").concat(r),children:[(0,l.jsxs)("div",{className:"h-[60px] relative flex-[0_0_103px] rounded-[5px] overflow-hidden ".concat("cat"==n?"p-[10px] bg-[#102742]":""),style:{willChange:"transform",contain:"layout paint"},children:[(0,l.jsx)("div",{className:t.endsWith(".svg")&&"cat"==n?"absolute inset-0 flex items-center justify-center":"",style:{willChange:"transform",transform:"translateZ(0)"},children:(0,l.jsx)(v(),{src:t,alt:a||"Search result image",width:103,height:60,className:"".concat(t.endsWith(".svg")&&"cat"==n?"h-[40px] w-auto object-contain":"h-full w-full object-cover"),"aria-hidden":"true",unoptimized:t.endsWith(".svg"),style:{willChange:"transform",transform:"translateZ(0)"}})}),"mobile"==c&&"0"==o?(0,l.jsx)("span",{className:"icon-flash-search-cancel-mobile absolute w-full h-full left-0 top-0 bg-[length:50%_50%] bg-center bg-no-repeat bg-nav-med/70 bg-[url('/assets/images/desktop.svg')]","aria-hidden":"true",children:" "}):null,"mobile"!==c&&"flash"==i?(0,l.jsx)("span",{className:"icon-flash-search absolute right-[4px] bottom-[4px] w-[20px] h-[20px] bg-[url('/assets/images/flash.svg')] bg-cover","aria-hidden":"true",children:" "}):null]}),(0,l.jsxs)("div",{className:"pl-[15px]",children:[(0,l.jsx)("h3",{className:"text-white font-bold text-[15px] leading-[1.3] mb-[5px]",children:a}),(0,l.jsxs)("p",{className:"text-[#b4c4d4] text-[14px] m-0 leading-[1.2]",children:[r," ","cat"==n?C("search.games"):""]})]})]})})},O=()=>{m(""),p(!1),S([]),L([]),P([]),"mobile"===t&&a&&a(),document.body.classList.remove("search-expanded")},H=(0,r.useRef)(!1),Z=()=>{m(""),x.current.focus()};(0,r.useEffect)(()=>{let e=async()=>{try{(0,w.h0)();let{data:e}=await (0,w.hx)(N);F(y.xl?e.search:e.search.filter(e=>"1"===e.mp));let t=void 0!==e.trendy&&null!==e.trendy?e.trendy:[],a=[],l=Math.min(t.length,10);for(let e=0;e<l;e++)if(null!=t[e])try{let l=await (0,w.IP)(t[e].toString(),N);l.length&&void 0!==l&&a.push(l[0])}catch(a){console.warn("Error fetching trendy game ".concat(t[e],":"),a)}A(a),j(!0)}catch(e){console.error("Error initializing games:",e),j(!0)}};b||(console.log("Starting initialization..."),e())},[N,b]),(0,r.useEffect)(()=>{var e;"desktop"!==t&&setTimeout(()=>{var e;null===(e=x.current)||void 0===e||e.focus()},500);let a=(null===(e=window.visualViewport)||void 0===e?void 0:e.height)||window.innerHeight;D("desktop"==t?a-215:a-155)},[a,t]);let q=(0,r.useCallback)(async e=>{S(await (0,w.qX)(e,N)),L(await (0,w.U2)(e,N)),P(await (0,w.RC)(e,N))},[N]),W=(0,r.useMemo)(()=>_()(e=>q(e),0),[q]);(0,r.useEffect)(()=>(""!==u.trim()&&W(u),()=>{W.cancel()}),[u,W]),(0,r.useEffect)(()=>{setTimeout(()=>{o&&""!==o&&m(o)},100)},[o,t]);let V=e=>{let t;let a=e.currentTarget,l="key"in e;if(""===a.textContent||l&&("Enter"===e.key||"Return"===e.key)||"seeAll"===a.id){let e=x.current.value;if(""===e)return!1;t=e}else t=a.textContent||"";t=t.replaceAll(" ","+"),H.current=!0,O(),setTimeout(()=>{let e="en"!==N?"/".concat(N):"";i.push("".concat(e,"/search-results?query=").concat(t))},150)};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{ref:g,onBlur:e=>{var a,l,r,n,s;g.current.contains(e.relatedTarget)||"desktop"!=t||(null==e?void 0:null===(a=e.relatedTarget)||void 0===a?void 0:a.id)==="main-content"||(null==e?void 0:null===(r=e.relatedTarget)||void 0===r?void 0:null===(l=r.classList)||void 0===l?void 0:l.contains("game-item"))||(null==e?void 0:null===(s=e.relatedTarget)||void 0===s?void 0:null===(n=s.classList)||void 0===n?void 0:n.contains("cat-item"))||O()},className:"relative lg:w-[120px] 1140:w-[150px] header-search h-full",role:"search",children:(0,l.jsxs)("div",{className:"lg:absolute z-[9] right-0 ".concat(c?"lg:w-[720px] mx-auto":""),children:[(0,l.jsxs)("div",{className:"h-full flex items-center p-4 mb-[12px] border-b-[1px] border-nav-med lg:mb-[2px] lg:border-0 lg:p-0",children:[(0,l.jsxs)("div",{className:"search-input z-0 relative h-full w-full ".concat(c?"shadow-[0_1px_0_#041e38,0_2px_0_#060d19]":"secondary-nav-hover"," items-center bg-nav-med rounded-full transition-all duration-300 ease-in-out"),children:[(0,l.jsx)("button",{className:"w-[32px] -z-[1] pl-[7px] hover:bg-[#1d3752] rounded-full absolute left-[5px] top-[50%] -translate-y-[50%] h-[32px]",onClick:e=>{e.stopPropagation(),V(e)},"aria-label":C("search.submit"),children:(0,l.jsx)(I,{color:"#8FCBED",width:17,height:17})}),(0,l.jsx)("input",{ref:x,type:"search",role:"combobox","aria-expanded":c,"aria-controls":"search-results-panel","aria-haspopup":"listbox","aria-label":C("search.search-for-games"),"aria-autocomplete":"list",placeholder:c?C("search.search-for-games"):C("search.search"),value:u,onChange:e=>m(e.target.value),onFocus:()=>{p(!0),document.body.classList.add("search-expanded")},onKeyUp:e=>("Enter"===e.key||"Return"===e.key)&&V(e),className:"cursor-pointer bg-transparent w-full h-[40px] text-white font-mobile sm:font-desktop placeholder-[#cdcdcd] focus:outline-none py-2 pl-[40px] pr-[10px] rounded-full"}),c&&""!==u?(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),Z()},className:"bg-[#112944] hover:bg-nav-light focus:bg-nav-light border-[none] rounded-[50%] h-[32px] outline-[0] p-0 absolute right-[5px] top-2/4 -translate-y-1/2 [transition:all_.3s] w-[32px]","aria-label":C("search.clear"),children:(0,l.jsxs)("svg",{className:"m-auto",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none","aria-hidden":"true",children:[(0,l.jsxs)("g",{clipPath:"url(#clip0_2037_29417)",children:[(0,l.jsx)("path",{d:"M0.875114 14.0001C0.641781 14.0001 0.408447 13.9418 0.233447 13.7668C-0.116553 13.4168 -0.116553 12.8918 0.233447 12.5418L12.4834 0.291797C12.8334 -0.0582031 13.3584 -0.0582031 13.7084 0.291797C14.0584 0.641797 14.0584 1.1668 13.7084 1.5168L1.45845 13.7668C1.34178 13.8835 1.10845 14.0001 0.875114 14.0001Z",fill:"white"}),(0,l.jsx)("path",{d:"M13.1251 14.0001C12.8917 14.0001 12.6584 13.9417 12.4834 13.7667L0.233398 1.51673C-0.0582682 1.16673 -0.0582682 0.583398 0.233398 0.233398C0.583398 -0.0582682 1.16673 -0.0582682 1.51673 0.233398L13.7667 12.4834C14.1167 12.8334 14.1167 13.3584 13.7667 13.7084C13.5917 13.8834 13.3584 14.0001 13.1251 14.0001Z",fill:"white"})]}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"clip0_2037_29417",children:(0,l.jsx)("rect",{width:"14",height:"14",fill:"white"})})})]})}):""]}),c&&(0,l.jsx)("button",{className:"text-[#8FCBED] text-[15px] lg:absolute lg:left-full lg:top-0 py-[10px] pl-[15px] whitespace-nowrap",onClick:e=>{e.stopPropagation(),O(),"mobile"===t&&a&&a()},"aria-label":C("search.cancel"),children:C("search.cancel")})]}),c&&(0,l.jsxs)("div",{ref:h,id:"search-results-panel",role:"region","aria-label":C("search.results"),className:"[transform:translateZ(0)] lg:pt-[18px] lg:px-[10px] inset-x-0 bg-nav-light lg:rounded-[0_0_10px_10px]",children:[(0,l.jsxs)("div",{className:"p-[16px_20px_45px] scrollable md:flex overflow-x-hidden overflow-y-auto lg:p-[10px_10px_0] max-h-[calc(100vh-215px)]  search-scroll ",style:{maxHeight:"".concat(z,"px")},children:[(0,l.jsx)("div",{className:"md:flex-[0_0_31%] px-[10px] md:px-0",children:""==u?(0,l.jsx)(l.Fragment,{children:(null==T?void 0:T.length)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"text-[#b4c4d4] leading-[1.2] mb-[16px] text-[15px] font-bold",children:C("search.trending-searches")}),(0,l.jsx)("div",{role:"listbox",id:"trending-searches-list","aria-label":C("search.trending-searches"),children:T.map((e,t)=>t<5&&(0,l.jsx)(B,{title:e.title,clickHandler:V,className:"".concat(t>2?"hidden":""," md:block")},t))})]}):(0,l.jsx)("p",{className:"text-white text-sm",children:C("search.no-data-found")})}):(0,l.jsx)(l.Fragment,{children:R.length?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"text-[#b4c4d4] md:h-auto md:mt-0 overflow-hidden mt-[-24px] h-0 leading-[1.2] mb-[16px] text-[15px] font-bold",children:C("search.top-suggestions")}),(0,l.jsx)("div",{role:"listbox",id:"search-suggestions-list","aria-label":C("search.top-suggestions"),children:R&&R.map((e,t)=>t<7&&(0,l.jsx)(B,{title:e.title||e.kw||"",className:"text-[#b4c4d4] ".concat(t>2?"hidden":""," md:block"),clickHandler:V},t))})]}):""})}),(0,l.jsx)("div",{className:"md:flex-[0_0_69%] md:pl-[22px]",children:""==u?(0,l.jsx)(l.Fragment,{children:M&&M.length>0&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{role:"listbox",id:"trending-games-list","aria-label":C("search.trending-games"),children:M.map((e,a)=>a<4&&(0,l.jsx)(U,{image:"".concat("https://www.coolmathgames.com","/sites/default/files/styles/og_image_game_page/public/").concat(e.og),title:e.title,description:e.sd,url:"".concat("https://www.coolmathgames.com").concat("en"!==N?"/".concat(N):"","/0-").concat(e.alias),mpv:e.mpv,type:e.type,name:"game",device:t},e.id))})})}):(0,l.jsx)(l.Fragment,{children:(k.length>0||E.length>0)&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{role:"listbox",id:"search-results-list","aria-label":C("search.results"),children:[k&&k.map((e,t)=>t<2&&(0,l.jsx)(U,{image:"".concat("https://www.coolmathgames.com","/").concat(e.ogt),title:e.title,description:e.gc,url:"".concat("https://www.coolmathgames.com").concat("en"!==N?"/".concat(N):"","/").concat(e.alias),name:"cat"},t)),E&&(y.xl?E:E.sort(function(e,t){return e.mpv<t.mpv?1:e.mpv>t.mpv?-1:0})).map((e,a)=>a<(k.length>2?2:4-k.length)&&(0,l.jsx)(U,{image:"".concat("https://www.coolmathgames.com","/sites/default/files/styles/og_image_game_page/public/").concat(e.og),title:e.title,description:e.sd,url:"".concat("https://www.coolmathgames.com").concat("en"!==N?"/".concat(N):"","/0-").concat(e.alias),mpv:e.mpv,type:e.type,name:"game",device:t},a))]})})})})]}),""!==u?(0,l.jsx)("div",{className:"lg:-ml-[10px] md:p-[10px] md:text-center lg:w-[calc(100%+20px)] font-bold fixed bottom-0 md:relative w-full bg-nav-light md:before:content-[''] md:before:absolute md:before:left-0 md:before:top-0 md:before:w-full md:before:border-t-[1px] md:before:border-nav-med",children:(0,l.jsxs)("button",{id:"seeAll",onClick:e=>{e.stopPropagation(),V(e)},className:"leading-[1.3] py-[10px] flex items-center md:justify-center px-[30px] rounded-[10px] transition-all duration-300 ease-out md:hover:bg-nav-med md:hover:translate-y-[-4px] md:hover:shadow-[0_3px_0_#041e38,0_4px_0_#060d19] w-full","aria-label":"".concat(C("search.see-all"),' "').concat(u,'"'),children:[(0,l.jsx)(I,{className:"mr-[10px]",color:"#B4C4D4",width:16,height:16}),C("search.see-all"),' "',u,'"']})}):null]})]})})})},C=e=>{switch(e){case"de":case"ja":return"lg:text-[1.25vw] 1140:text-[13px] 1200:text-[14px] xl:text-[16px]";case"it":return"lg:text-[1.25vw] 1200:text-[15px] xl:text-[17px]";case"es":return"lg:text-[1.25vw] 1140:text-[14px]";case"fr":case"pt-br":return"lg:text-[1.2vw] 1140:text-[12px] 1200:text-[13px] xl:text-[15px]";default:return"lg:text-[14px] 1200:text-[17px]"}},k=e=>{switch(e){case"de":return"space-x-[3px]";case"fr":case"pt-br":return"space-x-[2px]";default:return"space-x-[5px]"}},S={active:"bg-primary-yellow text-[#654900] -translate-y-[4px] shadow-[0_3px_0_#f3ac3c,_0_4px_0_#060d19]",pressed:"bg-[#112944] -translate-y-[2px] shadow-[0_1px_0_#041e38,_0_2px_0_#060d19]",base:"transition-all duration-200"},E={active:"bg-[#112944] -translate-y-[4px] shadow-[0_3px_0_#041e38,_0_4px_0_#060d19]",pressed:"bg-[#112944] -translate-y-[2px] shadow-[0_1px_0_#041e38,_0_2px_0_#060d19]",base:"transition-all duration-200"},L=e=>{let{isOpen:t,setIsOpen:a}=e,[i,o]=(0,r.useState)(null),[c,p]=(0,r.useState)(null),[m,x]=(0,r.useState)(null),[h,g]=(0,r.useState)(null),[f,b]=(0,r.useState)([]),[w,j]=(0,r.useState)(!0),_=(0,r.useRef)(new Map),y=(0,r.useRef)(new Map),N=(0,r.useRef)(new Map),L=(0,r.useRef)(null),R=(0,n.useRouter)(),P=(0,s.useTranslations)("common"),T=(0,s.useTranslations)("main-menu-desktop");(0,r.useEffect)(()=>()=>{L.current&&clearTimeout(L.current)},[]);let F=e=>{g(e)},M=()=>{L.current&&clearTimeout(L.current),L.current=setTimeout(()=>{g(null),L.current=null},200)},A=()=>{setTimeout(()=>{o(null)},200)},z=()=>{M(),p(null)};(0,r.useEffect)(()=>{(async()=>{try{j(!0);let e=T.raw("menu");Array.isArray(e)&&e.every(e=>"object"==typeof e&&"title"in e&&"string"==typeof e.title&&"url"in e&&"string"==typeof e.url)&&b(e)}catch(e){console.error("Error loading menu items:",e)}finally{j(!1)}})()},[T]),(0,r.useEffect)(()=>{let e=e=>{if("Escape"===e.key){var t;o(null),x(null),null===(t=_.current.get(i||""))||void 0===t||t.focus()}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[i]);let D=(e,t)=>{switch(e.key){case"Enter":case" ":t.children&&(e.preventDefault(),o(t.title),x(t.title));break;case"Escape":if(i===t.title){var a;e.preventDefault(),o(null),x(null),null===(a=_.current.get(t.title))||void 0===a||a.focus()}break;case"ArrowDown":if(e.preventDefault(),t.children&&i===t.title){let e=y.current.get("".concat(t.title,"-0"));null==e||e.focus()}}},I=e=>e?e.startsWith("http")?e:"".concat("https://www.coolmathgames.com").concat(e):"",B=(e,t)=>{e&&_.current.set(t,e)},U=(e,t)=>{e&&y.current.set(t,e)},O=(e,t)=>{e&&N.current.set(t,e)},H=e=>e.startsWith("http")||e.startsWith("//"),Z=S.active,q=e=>e.split(" ").map(e=>"hover:".concat(e)).join(" "),W={fontSize:C(R.locale||"en")},V=e=>{let t="".concat(W.fontSize," py-[10px] px-[4px] 1200:px-[8px] ").concat(e.children?"!pr-[1.25rem]":""," after:right-[0.5rem] rounded-[10px] font-bold flex items-center ").concat(q(Z)," ").concat(S.base),a=h===e.title?S.pressed:i===e.title||m===e.title?Z:"text-white";return e.children?"".concat(t," ").concat(a," has-submenu"):"".concat(t," ").concat(a)};return(0,l.jsx)("nav",{className:"text-white",role:"navigation","aria-label":P("main-navigation"),children:(0,l.jsx)("ul",{className:"flex ".concat(k(R.locale||"en")),role:"menubar",children:f.map(e=>(0,l.jsxs)("li",{className:"relative group last:mr-0",onMouseEnter:()=>o(e.title),onMouseLeave:()=>o(null),onKeyDown:t=>D(t,e),role:"none",children:[H(e.url)?(0,l.jsx)("a",{ref:t=>B(t,e.title),href:e.url,className:V(e),onMouseDown:()=>F(e.title),onMouseUp:()=>{M(),A()},onMouseLeave:M,role:"menuitem","aria-haspopup":e.children?"true":void 0,"aria-expanded":e.children?i===e.title:void 0,"aria-label":e.children?e.title:void 0,children:(0,l.jsx)("span",{children:e.title})}):(0,l.jsx)(d(),{href:u(e.url),ref:t=>B(t,e.title),className:V(e),onMouseDown:()=>F(e.title),onMouseUp:()=>{M(),A()},onMouseLeave:M,role:"menuitem","aria-haspopup":e.children?"true":void 0,"aria-expanded":e.children?i===e.title:void 0,"aria-label":e.children?e.title:void 0,children:(0,l.jsx)("span",{children:e.title})}),e.children&&(0,l.jsx)("div",{ref:t=>O(t,e.title),className:"absolute left-0 w-[240px] z-10 pt-2 transform transition-all duration-200 ease-out origin-top-left\n                  ".concat(i===e.title?"translate-y-0 opacity-100":"translate-y-[5px] opacity-0 pointer-events-none"),role:"menu","aria-label":P("show-submenu",{parent:e.title}),children:(0,l.jsx)("div",{className:"p-3 scrollable lg:max-h-[calc(100vh-130px)] bg-nav-light rounded-lg shadow-lg mt-[6px] mb-2",children:e.children.map((t,a)=>H(t.url)?(0,l.jsxs)("a",{ref:t=>U(t,"".concat(e.title,"-").concat(a)),href:t.url,className:"flex items-center  px-2 py-[11px] leading-[1.2] mb-1 rounded-lg  text-white ".concat(E.base," ").concat(h==="".concat(e.title,"-").concat(a)?E.pressed:c==="".concat(e.title,"-").concat(a)||m==="".concat(e.title,"-").concat(a)?E.active:""),onMouseEnter:()=>p("".concat(e.title,"-").concat(a)),onMouseDown:()=>F("".concat(e.title,"-").concat(a)),onMouseUp:()=>{M(),A()},onMouseLeave:z,role:"menuitem",tabIndex:i===e.title?0:-1,children:[t.icon&&(0,l.jsx)("span",{className:"inline-flex items-center min-w-[25px]","aria-hidden":"true",children:(0,l.jsx)(v(),{src:I(t.icon),alt:"",width:25,height:25})}),(0,l.jsx)("span",{className:"text-[15px] font-bold ml-[15px]  leading-[1.2]",children:t.title})]},t.title):(0,l.jsxs)(d(),{ref:t=>U(t,"".concat(e.title,"-").concat(a)),href:u(t.url),className:"flex items-center  px-2 py-[11px] leading-[1.2] mb-1 rounded-lg  text-white ".concat(E.base," ").concat(h==="".concat(e.title,"-").concat(a)?E.pressed:c==="".concat(e.title,"-").concat(a)||m==="".concat(e.title,"-").concat(a)?E.active:""),onMouseEnter:()=>p("".concat(e.title,"-").concat(a)),onMouseDown:()=>F("".concat(e.title,"-").concat(a)),onMouseUp:()=>{M(),A()},onMouseLeave:z,role:"menuitem",tabIndex:i===e.title?0:-1,children:[t.icon&&(0,l.jsx)("span",{className:"inline-flex items-center min-w-[25px]","aria-hidden":"true",children:(0,l.jsx)(v(),{src:I(t.icon),alt:"",width:25,height:25,className:"w-[25px] h-[25px]"})}),(0,l.jsx)("span",{className:"text-[15px] font-bold ml-[15px]",children:t.title})]},t.title))})})]},e.title))})})};var R=a(9748);let P=function(e){let{onShuffle:t}=e,a=(0,n.useRouter)(),r=(0,s.useTranslations)("common");return(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)(R.$,{className:"bg-primary-yellow p-2 pt-[12px] rounded-[10px] w-[41px] h-[40px] hover:bg-primary-yellow hover:shadow-[0_3px_0_#f3ac3c,0_4px_0_#060d19] hover:text-[#654900] hover:translate-y-[-4px] transition-all duration-200 focus:outline-none",onClick:()=>{t&&t(),a.push("/random")},"aria-label":r("Shuffle games"),children:(0,l.jsx)(v(),{src:"/assets/svg/random.svg",width:17,height:24,alt:"","aria-hidden":"true",className:"text-[#654900]"})})})};var T=a(7957);function F(){return!!(0,T.Ri)("cmg_l")}let M=async()=>{try{let e=await fetch("".concat("https://www.coolmathgames.com","/ajax/cmg-csrf-token"),{method:"GET",credentials:"same-origin"}),t=await e.json();if(t.logout_token)try{let e=await fetch("".concat("https://www.coolmathgames.com","/user/logout?token=").concat(t.logout_token),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(!e.ok)throw Error("Failed to log out");console.log("response",e),console.log("User logged out successfully")}catch(e){console.error("Logout failed",e)}}catch(e){console.error("csrf token response failed",e)}};function A(e){try{if(""!==e){let t={'"ig"':'"incrementgamestatus"','"fa"':'"isFavorite"','"lv"':'"level"','"ti"':'"time"','"bm"':'"bookMark"','"tb"':'"timebasedcompletedSt"','"tc"':'"timecompleted"','"ts"':'"timestamp"','"tp"':'"totalplays"','"lb"':'"leaderboardCompleteSt"',"'ig'":'"incrementgamestatus"',"'fa'":'"isFavorite"',"'lv'":'"level"',"'ti'":'"time"',"'bm'":'"bookMark"',"'tb'":'"timebasedcompletedSt"',"'tc'":'"timecompleted"',"'ts'":'"timestamp"',"'tp'":'"totalplays"',"'lb'":'"leaderboardCompleteSt"',"'uid'":'"userid"',"'pname'":'"publicname"',"'aimg'":'"avatarimage"',"'lpg'":'"lastplayedgame"',"'mgl'":'"mygameslist"',"'ul'":'"user_level"',"'picl'":'"progress_in_current_level"',"'mxpl'":'"max_xp_in_current_level"',"'lup'":'"lastUpdated"',"'cks'":'"cookies"',"'afimg'":'"cmg_avatar_fullbody_image"',"'lsg'":'"localstorage"',"'fsa'":'"flashstorage"','"uid"':'"userid"','"pname"':'"publicname"','"aimg"':'"avatarimage"','"lpg"':'"lastplayedgame"','"mgl"':'"mygameslist"','"ul"':'"user_level"','"picl"':'"progress_in_current_level"','"mxpl"':'"max_xp_in_current_level"','"lup"':'"lastUpdated"','"cks"':'"cookies"','"afimg"':'"cmg_avatar_fullbody_image"','"lsg"':'"localstorage"','"fsa"':'"flashstorage"'};Object.keys(t).forEach(a=>{e=e.replace(RegExp(a,"g"),t[a])})}else e=""}catch(e){console.error(e)}return e}async function z(e){try{var t;let a;if(!e)return null;let l=await fetch("".concat("https://api1prod.coolmathgames.com/getuserprofile_single"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:e,environment:"userProgress".concat("Prod".trim()||"Prod")})});l.ok||console.error("failed to load resource from server mongodbUrl}/getuserprofile_single");let r=await l.json();if(!(null===(t=r.Items)||void 0===t?void 0:t[0]))return null;let n=r.Items[0],s="";if(n){let e={pname:"publicname",aimg:"avatarimage",lpg:"lastplayedgame",mgl:"mygameslist",ul:"user_level",picl:"progress_in_current_level",mxpl:"max_xp_in_current_level",lup:"lastUpdated",cks:"cookies",afimg:"cmg_avatar_fullbody_image",lv:"level",lsg:"localStorage",fsa:"flashStorage"},t=JSON.stringify(n),a=RegExp('"('.concat(Object.keys(e).join("|"),')"'),"g");t=t.replace(a,(t,a)=>'"'.concat(e[a],'"')),n=JSON.parse(t)}if(n&&n.localStorage&&""!=n.localStorage.S&&0==n.localStorage.S.indexOf("userprofile=cmgocbcmgdquseridcmgdq")&&0>n.localStorage.S.indexOf("cmgzip")){let e=n.localStorage;s=(s=(s=A(e.S)).replace(/cmgbb/g,"\\").replace(/cmgsqbr/g,"[").replace(/cmgcomma/g,",").replace(/cmgccb/g,"}").replace(/cmgocb/g,"{").replace(/cmgdq/g,'"').replace(/cmgeq/g,"=")).replace(/\\"/g,'"').replace(/""/g,'"')}else n&&n.localStorage&&n.localStorage.S.indexOf("cmgzip")>=0?s=function(e){if(""===e)return"";{let t=e.indexOf("mygameslist:");if(-1===t)return"";let a=e.slice(t+12),l=e.slice(0,t);l=l.replace(/cmgzip/g,"").replace(/cmgbb/g,"\\").replace(/cmgsqbr/g,"[").replace(/cmgcomma/g,",").replace(/cmgccb/g,"}").replace(/cmgocb/g,"{").replace(/cmgdq/g,'"').replace(/cmgeq/g,"=").replace(/userprofile=/,"");let r=function(e){let t={},a=e[0],l=[a],r=256,n=e.length;for(let s=1;s<n;s++){let n=e[s].charCodeAt(0);t[n]?a=t[n]:a+=e[s],l.push(a),t[r]=a,r++,a=e[s]}return l.join("")}(a=a.replace(/cmgzip/g,"").replace(/cmgbb/g,"\\").replace(/cmgsqbr/g,"[").replace(/cmgcomma/g,",").replace(/cmgccb/g,"}").replace(/cmgocb/g,"{").replace(/cmgdq/g,'"').replace(/cmgeq/g,"="));if(!r)return"";a=r.replace(/cmgsep/g,"");try{let e=JSON.parse(a),t=JSON.parse(l);return t.mygameslist=e,"userprofile="+JSON.stringify(t)+"cmgsep"}catch(e){return console.error("Error parsing JSON:",e),""}}}(n.localStorage.S):(s=n.localStorage.S,s=(s=A(s)).replace(/'/g,'"'));let i=s.split("cmgsep");for(let e=0;e<i.length;e++){let t=i[e].split("=");if(t.length>1&&!isNaN(Number(t[1]))&&(t[1]=parseInt(t[1],10)),"userprofile"===t[0]){a=t[1];break}}try{a=JSON.parse(a)}catch(e){console.error("Failed to parse userprofile:",e),a=null}return{userprofile:a}}catch(e){return console.error("Error getting current user:",e),null}}let D=e=>{let{visible:t,drupalBaseUrl:a,userName:i,userPublicName:o,avatarId:c,userImage:p,onClickOutside:u,userLevel:x=1,userXp:h=0,maxXp:g=100,onLogout:f,theme:b,setActivePanel:w,setIsVisible:j}=e,_=(0,n.useRouter)(),y=(null==_?void 0:_.locale)==="en"?"":"/"+(null==_?void 0:_.locale),N=F(),C=(0,s.useTranslations)("common"),[k,S]=(0,r.useState)(!1),[E,L]=(0,r.useState)({username:"",password:""}),[R,P]=(0,r.useState)(!1),[M,A]=(0,r.useState)({username:"",password:"",form:""}),z=(0,r.useRef)(null),D=(0,r.useRef)(null),I=e=>{e?A(e=>({...e,username:""})):A(e=>({...e,username:C("login_widget.username_error")}))},B=e=>{e?A(e=>({...e,password:""})):A(e=>({...e,password:C("login_widget.password_error")}))},U=e=>{let{name:t,value:a}=e.target;"username"===t?I(a):"password"===t&&B(a)},O=(0,r.useMemo)(()=>{var e,t;let a=null===(t=decodeURIComponent((0,T.Ri)("cmg_xps")||""))||void 0===t?void 0:null===(e=t.split("/")[1])||void 0===e?void 0:e.replace("_","-");if(a&&"default"!==a&&N)return{backgroundImage:"linear-gradient(180deg, rgba(6, 13, 25, 0.65) 11.89%, rgba(6, 13, 25, 0.85) 100%),url(".concat("/themes/custom/coolmath/assets/themes/images/background-".concat(a,"-1x.jpg"),")"),backgroundSize:"cover",backgroundPosition:"center"}},[N]);(0,r.useEffect)(()=>{let e=e=>{D.current&&!D.current.contains(e.target)&&(null==u||u())};return t&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[t,u]);let H=async e=>{e.preventDefault(),e.stopPropagation();try{f&&await f()}catch(e){console.error("Logout failed:",e)}},Z=e=>{U(e);let{name:t,value:a}=e.target;L(e=>({...e,[t]:a}))},q=async e=>{A({username:"",password:"",form:""}),e.preventDefault();let t=e.target,a=new FormData(t),l=t.username.value,r=t.password.value;if(I(l),B(r),!l||!r)return!1;P(!0);let n={};a.forEach((e,t)=>{n[t]=e});try{let e=await fetch("/ajax/cmg/7b268a2358f68318b06ec12dbe0ca1e7",{method:"POST",body:a});if(!e.ok)return A(e=>({...e,form:C("login_widget.form_error")})),!1;w&&w(null),j&&j(!1),window.location.reload(),await e.json()}catch(e){console.error("Login error:",e),A(e=>({...e,form:"Something went wrong!"}))}finally{P(!1)}},W=[{title:C("profile.my_profile"),href:m(y,"profile/".concat(null==o?void 0:o.toLowerCase())),isExternal:!0},{title:C("profile.my_favorites"),href:m(y,"profile/".concat(null==o?void 0:o.toLowerCase()))+"#tab5",isExternal:!0},{title:C("profile.customize"),href:m(y,"profile/".concat(null==o?void 0:o.toLowerCase(),"/edit")),isExternal:!0},{title:C("profile.go_ad_free"),href:m(y,"profile/premium-access/5b8689c9/".concat(null==o?void 0:o.toLowerCase())),isExternal:!0},{title:C("profile.account_settings"),href:m(y,"profile/account-settings"),isExternal:!0},{title:C("profile.log_out"),href:"#",onClick:H}],V=e=>{e.preventDefault(),(0,T.TV)("cmg_go_adfree",!0),window.location.href=m(y,"premium-access/b2df5a33/")};return(0,l.jsx)("div",{ref:z,className:"login-frm  absolute right-0 w-[340px] z-[9999] lg:pt-2 transform transition-all duration-200 ease-out origin-top-right\n        ".concat(t?"translate-y-0 opacity-100 visible":"translate-y-[5px] opacity-0 invisible"),onClick:e=>{e.stopPropagation()},children:(0,l.jsx)("div",{ref:D,className:"login-frm-inner p-6 pb-[10px] lg:pt-6  bg-nav-light rounded-lg mt-0  lg:mt-[6px] scrollable overflow-y-auto  max-h-[calc(100vh-128px)]",children:N?(0,l.jsxs)("div",{className:"text-white relative login-frm-bot",children:[(0,l.jsxs)("div",{className:"usr-header lg:mb-[14px] pb-[24px] lg:pb-[10px] pt-[32px] px-[10px]",style:O,children:[(0,l.jsx)("a",{href:m(y,"profile/".concat(null==o?void 0:o.toLowerCase(),"/edit")),className:"profile-edit-btn hidden lg:block rounded-[10px] absolute right-[10px] top-[10px] opacity-0",children:(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",children:[(0,l.jsx)("path",{d:"M12.0282 16.6901H1.66197C0.741784 16.6901 0 15.9484 0 15.0282V4.66197C0 3.74178 0.741784 3 1.66197 3H4.65728C4.97653 3 5.23944 3.26291 5.23944 3.58216C5.23944 3.90141 4.97653 4.16432 4.65728 4.16432H1.66197C1.38967 4.16432 1.17371 4.38028 1.17371 4.65258V15.0282C1.17371 15.3005 1.38967 15.5164 1.66197 15.5164H12.0282C12.3005 15.5164 12.5164 15.3005 12.5164 15.0282V12.3427C12.5164 12.0235 12.7793 11.7606 13.0986 11.7606C13.4178 11.7606 13.6808 12.0235 13.6808 12.3427V15.0282C13.6808 15.9484 12.939 16.6901 12.0188 16.6901H12.0282Z",fill:"white"}),(0,l.jsx)("path",{d:"M9.02355 12.9248H4.65735C4.33811 12.9248 4.0752 12.6619 4.0752 12.3426V7.96704C4.0752 7.80742 4.14092 7.66657 4.24421 7.5539L10.216 1.58207C10.9954 0.802723 12.2536 0.802723 13.0329 1.58207L15.4179 3.94826C15.7935 4.32385 16.0095 4.83089 16.0095 5.35671C16.0095 5.89192 15.8029 6.38958 15.4273 6.76516L9.44609 12.7464C9.33341 12.8591 9.18318 12.9154 9.03294 12.9154L9.02355 12.9248ZM5.23951 11.7511H8.77942L14.5822 5.93887C14.7419 5.77925 14.8264 5.57268 14.8264 5.35671C14.8264 5.14075 14.7419 4.93418 14.5822 4.77455L12.1973 2.40836C11.878 2.08911 11.3522 2.08911 11.0329 2.40836L5.2489 8.21117V11.7511H5.23951Z",fill:"white"})]})}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsxs)("div",{className:"relative basis-[64px] flex-shrink-0",children:[" ",(0,l.jsx)(v(),{src:decodeURIComponent(p),alt:o||"User avatar",width:64,height:64,className:"w-[64px] h-[64px] rounded-full object-cover"}),(0,l.jsx)("div",{style:{backgroundImage:"url('/assets/images/user-profile/levels/".concat(x<5?"L1":"L2",".svg')")},className:"bg-cover scale-[0.75] bg-no-repeat w-[46px] h-[46px] absolute -bottom-[10px] -right-[22px] text-black",children:(0,l.jsx)("span",{className:"text-center leading-[48px] text-[15px] block font-bold",children:x})})]}),(0,l.jsxs)("div",{className:"right pl-[24px] basis-auto grow shrink",children:[(0,l.jsx)("div",{className:"font-bold",children:o}),(0,l.jsx)("div",{className:"w-full bg-[#000] rounded-[10px] h-[10px] my-[8px]",children:(0,l.jsx)("div",{className:"bg-[#FFE81F] h-full rounded-full max-w-full",style:{width:"".concat(h/g*100,"%")}})}),(0,l.jsx)("div",{className:"w-full",children:(0,l.jsxs)("div",{className:"flex justify-between text-[15px]",children:[(0,l.jsxs)("span",{children:["Level ",x]}),(0,l.jsxs)("span",{children:[h,"/",g," XP"]})]})})]})]})]}),(0,l.jsx)("nav",{className:"p-[14px] scrollable pt-[20px] lg:pt-[18px] border-t-[1px] lg:border-0 border-t-nav-med",children:(0,l.jsx)("ul",{children:W.filter(e=>!((0,T.Ri)("cmg_sx")&&/\/profile\/premium-access\//.test(e.href))).map(e=>(0,l.jsx)("li",{className:"lg:mb-[5px] mb-[10px]",children:e.isExternal?(0,l.jsx)("a",{href:e.href,onClick:e.onClick,className:"block w-full px-[10px] py-[12px]  lg:p-[10px] text-[18px] lg:text-[15px] leading-[28px] font-bold rounded-[10px] hover:translate-y-[-4px] transition-all duration-300 ease-out hover:shadow-[0_3px_0_#041e38,0_4px_0_#060d19] hover:bg-nav-med",children:e.title}):(0,l.jsx)(d(),{href:e.href,onClick:e.onClick,className:"block w-full px-[10px] py-[12px]  lg:p-[10px] text-[18px] lg:text-[15px] leading-[28px] font-bold rounded-[10px] hover:translate-y-[-4px] transition-all duration-300 ease-out hover:shadow-[0_3px_0_#041e38,0_4px_0_#060d19] hover:bg-nav-med",children:e.title})},e.title))})})]}):(0,l.jsxs)("div",{className:"text-white relative",children:[(0,l.jsx)("h2",{className:"mb-6 hidden lg:block text-[18px] mb-[10px] mt-[-2px]",children:C("login_widget.log_in")}),M.form&&(0,l.jsx)("div",{className:"absolute right-0 lg:right-[1px] text-[13px] top-[-20px] lg:top-[7px] w-full text-center lg:w-auto  text-[#F3733B]",children:M.form}),(0,l.jsxs)("form",{onSubmit:q,className:"space-y-4",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{id:"dropdown-username",type:"text",name:"username",placeholder:C("login_widget.login_id_placeholder"),className:"w-full p-3 rounded-[5px] bg-nav-med text-white placeholder-gray-400 border-none focus:outline-none focus:ring-2 focus:ring-[#29BFFD]\n              ".concat(""!==M.username?" ring-2 !ring-[#F3733B]":"","\n              "),value:E.username,onChange:Z,onBlur:U,disabled:R,autoComplete:"username"}),M.username&&(0,l.jsx)("div",{className:"absolute absolute w-full mt-[4px] mb-0 text-[12px]  text-[#F3733B]",children:M.username}),""==E.username&&""==M.username&&(0,l.jsx)("p",{className:"username-help hidden absolute w-full mt-[2px] mb-0 text-[12px] text-[#B4C4D4]",children:"Premium members can also use their email address"})]}),(0,l.jsxs)("div",{className:"relative !mt-[25px]",children:[(0,l.jsx)("input",{id:"dropdown-password",type:"password",name:"password",placeholder:C("login_widget.password_placeholder"),className:"w-full p-3 rounded-[5px] bg-nav-med text-white placeholder-gray-400 border-none focus:outline-none focus:ring-2 focus:ring-[#29BFFD]\n              ".concat(""!==M.password?" ring-2 !ring-[#F3733B]":"","\n              "),value:E.password,onChange:Z,onBlur:U,disabled:R,autoComplete:"current-password"}),M.password&&(0,l.jsx)("div",{className:"absolute absolute w-full mt-[4px] mb-0 text-[12px]  text-[#F3733B]",children:M.password})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center checkbox relative !mt-[25px]",children:[(0,l.jsxs)("label",{className:"flex items-center relative cursor-pointer",htmlFor:"dropdown-remember-me",children:[(0,l.jsx)("input",{type:"checkbox",checked:k,name:"remember_me",onChange:e=>S(e.target.checked),id:"dropdown-remember-me",className:"mr-2 rounded-[2px] h-[20px] w-[20px] appearance-none border-2 border-[#fff] bg-nav-med focus:ring-[#29BFFD]",disabled:R}),(0,l.jsx)("span",{className:"text-[13px]",children:C("login_widget.remember_me")})]}),(0,l.jsx)(d(),{href:m(y,"user/password"),className:"text-[#29BFFD] hover:underline text-[13px]",children:C("login_widget.forgot_password")})]}),(0,l.jsx)("button",{type:"submit",className:"btn login ".concat(R?"opacity-50 cursor-not-allowed":""),disabled:R,children:R?C("login_widget.logging_in"):C("login_widget.log_in")}),(0,l.jsx)("div",{className:"bg-nav-med h-[1px]  -mx-6 mt[2px]"})]}),(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)(d(),{href:m(y,"signup"),className:"btn signup",children:C("login_widget.sign_up_free")}),(0,l.jsx)("button",{onClick:e=>{V(e)},className:"mt-2 lg:mb-[14px]  text-center w-full text-[#29BFFD] text-[13px] hover:text-[#0299d7] hover:underline",children:C("login_widget.go_premium")})]})]})})})};class I extends r.Component{static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("Login widget error:",e,t)}render(){return this.state.hasError?(0,l.jsxs)("div",{className:"text-white bg-red-500/10 p-4 rounded",children:[(0,l.jsx)("h3",{className:"font-bold",children:"Something went wrong"}),(0,l.jsx)("p",{children:"Unable to load login widget. Please try refreshing the page."})]}):this.props.children}constructor(e){super(e),this.state={hasError:!1}}}let B=e=>{var t,a;let{currentAvatarUrl:i,userStats:o,isLoading:c,setActivePanel:d}=e,p=F(),[u,m]=(0,r.useState)(!1),[x,h]=(0,r.useState)(!1),g=(0,r.useRef)(null),[f,b]=(0,r.useState)(!1),v=(0,n.useRouter)(),w=(0,s.useTranslations)("common"),j=()=>m(e=>!e),_=async()=>{try{await M()}catch(e){console.error("Logout failed:",e)}finally{d&&d(null),m(!1),h(!1),document.body.classList.remove("logged-in"),localStorage.removeItem("userprofile"),v.push("/")}};if((0,r.useEffect)(()=>{b(!0)},[]),!f||c)return c?(0,l.jsx)("div",{className:"relative login-btn",ref:g,children:(0,l.jsx)("button",{type:"button",className:"flex items-center justify-center w-12 1280:w-[86px] h-10 rounded-full transition-colors duration-200 bg-nav-med","aria-label":w("loading"),children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"})})}):(0,l.jsxs)("div",{className:"relative",ref:g,children:[(0,l.jsx)(U,{onClick:()=>{}})," "]});let y=i?"".concat("https://www.coolmathgames.com").concat(i.startsWith("/")?"":"/").concat(i):"".concat("https://www.coolmathgames.com","/assets/images/nav_icon/user-avatar.svg");return(0,l.jsxs)("div",{className:"relative",ref:g,children:[p?(0,l.jsx)("div",{className:"profile_btn",children:(0,l.jsx)(O,{userImage:y,userName:null==o?void 0:o.userName,onClick:j})}):(0,l.jsx)(U,{onClick:j}),(0,l.jsx)(D,{visible:u||x,drupalBaseUrl:"https://www.coolmathgames.com"+("en"!==v.locale?"/"+v.locale:""),onClickOutside:()=>{m(!1),h(!1)},userImage:"https://www.coolmathgames.com"+(null==o?void 0:o.avatarimage),userName:null==o?void 0:o.userName,userPublicName:null==o?void 0:o.publicname,avatarId:null!==(a=null==o?void 0:null===(t=o.avatarId)||void 0===t?void 0:t.id)&&void 0!==a?a:"",userLevel:null==o?void 0:o.user_level,userXp:null==o?void 0:o.progress_in_current_level,maxXp:null==o?void 0:o.max_xp_in_current_level,onLogout:_,theme:null==o?void 0:o.theme,setActivePanel:d,setIsVisible:m})]})},U=e=>{let{onClick:t}=e,a=(0,s.useTranslations)("common");return(0,l.jsxs)("button",{type:"button",className:"login-btn px-[4px] min-w-[40px] min-h-[40px] justify-center py-[11px] flex items-center 1140:px-[0.75rem] text-[15px] rounded-[10px] transition-colors duration-200 bg-nav-med secondary-nav-hover cursor-pointer","aria-label":a("profile.log_in"),onClick:e=>{e.stopPropagation(),t()},style:{zIndex:9999},children:[(0,l.jsx)(v(),{width:16,height:16,src:"/assets/images/nav_icon/icon_profile.svg",alt:a("profile.title"),className:"inline-block"}),(0,l.jsx)("span",{className:"text ml-[6px] hidden 1140:inline align-middle",children:a("profile.log_in")})]})},O=e=>{let{userImage:t,userName:a,onClick:r}=e,n=(0,s.useTranslations)("common");return(0,l.jsx)("button",{type:"button",className:"flex items-center justify-center w-10 h-10 rounded-full transition-colors duration-200 bg-nav-med secondary-nav-hover cursor-pointer","aria-label":n("profile.title"),onClick:e=>{e.stopPropagation(),r()},style:{zIndex:9999},children:t?(0,l.jsx)(v(),{width:36,height:36,src:t,alt:a||n("profile.default_avatar"),className:"rounded-full"}):""})},H=e=>(0,l.jsx)(I,{children:(0,l.jsx)(B,{...e})});var Z=a(8898),q=a(8453);function W(e){let{openCategory:t,handleBack:a,handleClose:n,handleCategoryClick:i}=e,o=(0,s.useTranslations)("common"),c=(0,s.useTranslations)("main-menu-mobile").raw("menu"),p=(0,r.useRef)(null),[u,m]=(0,r.useState)(null);(0,r.useEffect)(()=>{p.current&&p.current.focus()},[t]);let x=(0,r.useCallback)(e=>e?e.startsWith("http")?e:"".concat("https://www.coolmathgames.com").concat(e):"",[]),h=(0,r.useCallback)((e,t)=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),t.children?i(t.title):n())},[i,n]),g=(0,r.useCallback)((e,t)=>{m(t=>t===e?null:e),t.children?i(t.title):n()},[i,n]);return Array.isArray(c)?(0,l.jsxs)("div",{className:"h-full inset-x-0 bottom-[60px] pb-[46px] flex flex-col z-90",role:"dialog","aria-label":o("categories.title"),children:[(0,l.jsxs)("div",{className:"flex items-center border-b-[1px] text-[1.25rem] border-b-nav-med  text-center font-bold text-white",role:"heading","aria-level":2,children:[t?(0,l.jsx)("button",{ref:p,onClick:()=>{a(),m(null)},className:"flex-[0_0_3rem] w-[48px] h-[52px] px-[7px]","aria-label":"".concat(o("menu-back")," to main categories"),children:(0,l.jsx)(Z.A,{size:32,strokeWidth:1.5,"aria-hidden":"true"})}):(0,l.jsx)("div",{className:"flex-[0_0_3rem]"}),(0,l.jsx)("div",{className:"flex-[1_1_auto] py-4 leading-1",children:t||o("categories.title")}),(0,l.jsx)("div",{className:"flex-[0_0_3rem] relative",children:(0,l.jsx)("button",{onClick:n,className:"border-0 w-[48px] h-[48px] outline-[0] p-0 absolute right-0 top-2/4 -translate-y-1/2","aria-label":o("close"),children:(0,l.jsxs)("svg",{className:"m-auto",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none","aria-hidden":"true",children:[(0,l.jsxs)("g",{clipPath:"url(#clip0_2037_29417)",children:[(0,l.jsx)("path",{d:"M0.875114 14.0001C0.641781 14.0001 0.408447 13.9418 0.233447 13.7668C-0.116553 13.4168 -0.116553 12.8918 0.233447 12.5418L12.4834 0.291797C12.8334 -0.0582031 13.3584 -0.0582031 13.7084 0.291797C14.0584 0.641797 14.0584 1.1668 13.7084 1.5168L1.45845 13.7668C1.34178 13.8835 1.10845 14.0001 0.875114 14.0001Z",fill:"white"}),(0,l.jsx)("path",{d:"M13.1251 14.0001C12.8917 14.0001 12.6584 13.9417 12.4834 13.7667L0.233398 1.51673C-0.0582682 1.16673 -0.0582682 0.583398 0.233398 0.233398C0.583398 -0.0582682 1.16673 -0.0582682 1.51673 0.233398L13.7667 12.4834C14.1167 12.8334 14.1167 13.3584 13.7667 13.7084C13.5917 13.8834 13.3584 14.0001 13.1251 14.0001Z",fill:"white"})]}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"clip0_2037_29417",children:(0,l.jsx)("rect",{width:"14",height:"14",fill:"white"})})})]})})})]}),(0,l.jsx)("nav",{role:"navigation","aria-label":t?"".concat(t," ").concat(o("categories.subcategories")):o("main-menu-mobile.main-categories"),className:"mnav-scroller overflow-y-auto overflow-x-hidden flex-auto pb-[16px]",children:(0,l.jsx)("ul",{role:"menu",className:"relative p-[20px] pb-0",children:c.map((e,a)=>{let r=null===u||u===a;return(0,l.jsxs)("li",{role:"listitem",className:"".concat(r?"block":"hidden","  mb-[10px] text-[18px] leading-[28px] font-bold"),children:[e.children?(0,l.jsxs)("button",{className:"".concat(t?"hidden":""," flex transition-all duration-300 ease-out w-full text-left py-[12px] rounded px-[10px] text-white border-b border-nav-dark flex items-center justify-left hover:translate-y-[-4px] hover:shadow-[0_3px_0_#041e38,0_4px_0_#060d19] hover:bg-nav-med"),onClick:()=>g(a,e),onKeyDown:t=>h(t,e),role:"menuitem","aria-haspopup":e.children?"true":void 0,"aria-expanded":t===e.title,children:[e.icon&&(0,l.jsx)("span",{className:"mr-4 inline-flex items-center","aria-hidden":"true",children:(0,l.jsx)(v(),{src:x(e.icon),alt:"",width:25,height:25,className:"w-[25px] h-[25px]"})}),e.title,e.children&&(0,l.jsx)(q.A,{size:24,strokeWidth:2,"aria-hidden":"true",role:"presentation",className:"ml-[auto]"})]}):(0,l.jsx)("a",{href:e.url,className:"flex transition-all duration-300 ease-out w-full text-left py-[12px] rounded px-[10px] text-white border-b border-nav-dark flex items-center justify-left hover:translate-y-[-4px] hover:shadow-[0_3px_0_#041e38,0_4px_0_#060d19] hover:bg-nav-med",onClick:n,"aria-label":"".concat(e.title," category"),children:e.title}),e.children&&(0,l.jsxs)("ul",{role:"menu","aria-label":"".concat(e.title," ").concat(o("categories.subcategories")),className:"absolute ".concat(t?"h-auto":"h-full overflow-hidden"," p-[20px] top-0 left-0  z-9 w-full transition-transform duration-300 ease ").concat(t&&r?"translate-x-0":"translate-x-full"),children:[(0,l.jsx)("li",{className:"mb-[10px]",children:(0,l.jsx)(d(),{href:e.url,className:"flex transition-all duration-300 ease-out w-full text-left py-[12px] rounded px-[10px] text-white border-b border-nav-dark flex items-center justify-left hover:translate-y-[-4px] hover:shadow-[0_3px_0_#041e38,0_4px_0_#060d19] hover:bg-nav-med",onClick:n,"aria-label":"".concat(e.title," category"),children:"".concat(o("games.all")," ").concat(e.title)})}),e.children.map(e=>(0,l.jsx)("li",{className:"mb-[10px]",role:"none",children:(0,l.jsxs)(d(),{href:e.url,className:"flex transition-all duration-300 ease-out w-full text-left py-[12px] rounded px-[10px] text-white border-b border-nav-dark flex items-center justify-left hover:translate-y-[-4px] hover:shadow-[0_3px_0_#041e38,0_4px_0_#060d19] hover:bg-nav-med",onClick:n,role:"menuitem","aria-label":"".concat(e.title," ").concat(o("categories.category")),children:[e.icon&&(0,l.jsx)("span",{className:"mr-4 inline-flex items-center","aria-hidden":"true",children:(0,l.jsx)(v(),{src:x(e.icon),alt:"",width:25,height:25,className:"w-[25px] h-[25px]"})}),e.title]})},e.title))]})]},e.title)})})})]}):null}let V=e=>{let t=(0,n.useRouter)(),a=(0,s.useTranslations)("common"),[o,c]=(0,r.useState)(null),[p,u]=(0,r.useState)(null),{locale:m}=(0,n.useRouter)(),h=(0,r.useRef)(null),f=(0,r.useRef)(null),[b,w]=(0,r.useState)(null);F();let{currentAvatarUrl:j,userStats:_,langLinks:y}=e;(0,r.useEffect)(()=>{if(o){var e;f.current=document.activeElement,null===(e=h.current)||void 0===e||e.focus()}else f.current&&f.current.focus()},[o]);let C=e=>{c(t=>(w(t),o===e?null:e)),"search"==e&&setTimeout(()=>{localStorage.setItem("searchClicked","false")},200)};(0,r.useEffect)(()=>{localStorage.setItem("searchClicked","")},[]);let k=j?"".concat("https://www.coolmathgames.com").concat(j.startsWith("/")?"":"/").concat(j):"".concat("https://www.coolmathgames.com","/assets/images/nav_icon/user-avatar.svg");return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("header",{className:"bg-nav-light h-14 flex items-center justify-center relative z-[90]",role:"banner","aria-label":a("mobile.header"),children:(0,l.jsx)(d(),{href:"/","aria-label":a("navigation.Home"),children:(0,l.jsx)(g.A,{className:"h-8"})})}),o&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-[90]",onClick:()=>{c(e=>(w(e),null))},role:"presentation","aria-hidden":"true"}),(0,l.jsxs)("div",{className:"mobile-navbar fixed inset-x-0 bottom-0 z-[9995] p-[0.5em]",children:[(0,l.jsx)("nav",{className:"mobile-nav z-10 relative bg-nav-light border border-nav-dark rounded shadow-lg",role:"navigation","aria-label":a("mobile.navigation"),children:(0,l.jsxs)("div",{className:"flex justify-between items-center h-[52px] ".concat(o?"panel-opened":""),children:[(0,l.jsxs)(d(),{href:"/",className:(0,i.A)("flex flex-1 flex-col items-center justify-center text-center h-full tab-home active:bg-nav-med","/"===t.pathname?"active":""),"aria-label":a("navigation.Home"),"aria-current":"/"===t.pathname?"page":void 0,children:[(0,l.jsx)("span",{className:"tab-icon","aria-hidden":"true"}),(0,l.jsx)("span",{className:"tab-title",children:a("navigation.Home")})]}),(0,l.jsxs)("button",{className:(0,i.A)("flex flex-1 flex-col items-center justify-center text-center tab-home h-full tab-category active:bg-nav-med","categories"===o?"active":""),onClick:()=>C("categories"),"aria-label":a("navigation.Categories"),"aria-expanded":"categories"===o,"aria-controls":"categories-panel",children:[(0,l.jsx)("span",{className:"tab-icon","aria-hidden":"true"}),(0,l.jsx)("span",{className:"tab-title",children:a("navigation.Categories")})]}),(0,l.jsxs)("button",{className:(0,i.A)("flex flex-1 flex-col items-center justify-center text-center tab-home h-full tab-search active:bg-nav-med","search"===o?"active":""),onClick:()=>C("search"),"aria-label":a("navigation.Search"),"aria-expanded":"search"===o,"aria-controls":"search-panel",children:[(0,l.jsx)("span",{className:"tab-icon","aria-hidden":"true"}),(0,l.jsx)("span",{className:"tab-title",children:a("navigation.Search")})]}),(0,l.jsxs)("button",{className:(0,i.A)("flex flex-1 flex-col items-center justify-center text-center tab-home h-full tab-profile active:bg-nav-med","profile"===o?"active":""),onClick:()=>C("profile"),"aria-label":a("navigation.Profile"),"aria-expanded":"profile"===o,"aria-controls":"profile-panel",children:[j&&"undefined"!==j?(0,l.jsx)(v(),{src:k,className:"rounded-full mb-[4px]",width:18,height:18,alt:"","aria-hidden":"true"}):(0,l.jsx)("span",{className:"tab-icon","aria-hidden":"true"}),(0,l.jsx)("span",{className:"tab-title",children:a("navigation.Profile")})]}),(0,l.jsxs)("button",{className:(0,i.A)("flex flex-1 flex-col items-center justify-center text-center tab-home h-full tab-lang active:bg-nav-med","language"===o?"active":""),onClick:()=>C("language"),"aria-label":a("navigation.Language"),"aria-expanded":"language"===o,"aria-controls":"language-panel",children:[(0,l.jsx)("span",{className:"tab-icon","aria-hidden":"true"}),(0,l.jsx)("span",{className:"tab-title uppercase",children:m||""})]})]})}),(0,l.jsxs)("div",{ref:h,className:(0,i.A)("fixed inset-x-0 bottom-0 left-[8px]","transition-all duration-300 ease-in-out w-[calc(100vw-16px)]",o?"":"pointer-events-none"),role:o?"dialog":"presentation","aria-modal":o?"true":void 0,"aria-label":o?a("navigation.".concat(o)):void 0,tabIndex:o?0:-1,onKeyDown:e=>{"Escape"===e.key&&o&&c(null)},children:[(0,l.jsx)("div",{id:"categories-panel",className:"panel h-[480px] ".concat("categories"===o?"showPanel":o||"categories"!==b?"hidden":"hidePanel"),children:(0,l.jsx)(W,{openCategory:p,handleBack:()=>{u(null)},handleClose:()=>{c(e=>(w(e),null))},handleCategoryClick:e=>{u(e)}})}),(0,l.jsx)("div",{id:"search-panel",className:"panel h-[calc(100vh-8px)] h-[calc(100dvh-8px)] ".concat("search"===o?"showPanel":o||"search"!==b?"hidden":"hidePanel"),children:(0,l.jsx)(N,{device:"mobile",handleClose:()=>{c(e=>(w(e),null))}})}),(0,l.jsxs)("div",{id:"profile-panel",className:"panel mobile-login pb-[70px] ".concat("profile"===o?"showPanel":o||"profile"!==b?"hidden":"hidePanel"),children:[(0,l.jsxs)("div",{className:"flex items-center h-[48px] h-[52px] login-head border-b-[1px] text-[18px] border-b-nav-med text-center font-bold text-white",role:"heading","aria-level":2,children:[(0,l.jsx)("div",{className:"text-center login-text flex-[1_1_auto] py-4 leading-1",children:a("login_widget.log_in")}),(0,l.jsx)("button",{onClick:()=>{c(e=>(w(e),null))},className:"border-0 z-1 w-[48px] h-[48px] outline-[0] absolute z-10 right-0 top-0","aria-label":a("close"),children:(0,l.jsxs)("svg",{className:"m-auto",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none","aria-hidden":"true",children:[(0,l.jsxs)("g",{clipPath:"url(#clip0_2037_29417)",children:[(0,l.jsx)("path",{d:"M0.875114 14.0001C0.641781 14.0001 0.408447 13.9418 0.233447 13.7668C-0.116553 13.4168 -0.116553 12.8918 0.233447 12.5418L12.4834 0.291797C12.8334 -0.0582031 13.3584 -0.0582031 13.7084 0.291797C14.0584 0.641797 14.0584 1.1668 13.7084 1.5168L1.45845 13.7668C1.34178 13.8835 1.10845 14.0001 0.875114 14.0001Z",fill:"white"}),(0,l.jsx)("path",{d:"M13.1251 14.0001C12.8917 14.0001 12.6584 13.9417 12.4834 13.7667L0.233398 1.51673C-0.0582682 1.16673 -0.0582682 0.583398 0.233398 0.233398C0.583398 -0.0582682 1.16673 -0.0582682 1.51673 0.233398L13.7667 12.4834C14.1167 12.8334 14.1167 13.3584 13.7667 13.7084C13.5917 13.8834 13.3584 14.0001 13.1251 14.0001Z",fill:"white"})]}),(0,l.jsx)("defs",{children:(0,l.jsx)("clipPath",{id:"clip0_2037_29417",children:(0,l.jsx)("rect",{width:"14",height:"14",fill:"white"})})})]})})]}),(0,l.jsx)(H,{userStats:_,setActivePanel:c})]}),(0,l.jsx)("div",{id:"language-panel",className:"panel h-[480px] ".concat("language"===o?"showPanel":o||"language"!==b?"hidden":"hidePanel"),children:(0,l.jsx)(x,{langLinks:y,handleClose:()=>{c(e=>(w(e),null))}})})]})]})]})};var J=a(1937);function X(e){var t;let{langLinks:a}=e,[n,i]=(0,r.useState)(!1),o=(0,J.l)(),c=(0,s.useTranslations)("common"),d=F(),[p,u]=(0,r.useState)(!1),[m,h]=(0,r.useState)(!0),[g,f]=(0,r.useState)(),[b,v]=(0,r.useState)(null),w=(0,r.useCallback)(async()=>{try{if(d){let e=window.localStorage.getItem("userprofile"),t=Number((0,T.Ri)("cmg_uid")),a=(0,T.Ri)("cmg_vs");if(e){let t=JSON.parse(e);f({...t,userName:a}),v(decodeURIComponent(t.avatarimage))}else if(t){let e=await z(t);if(console.log("data Error getting current user",e),e){let t=JSON.stringify(e.userprofile);window.localStorage.setItem("userprofile",t),f({...e.userprofile,userName:a}),v(decodeURIComponent(e.userprofile.avatarimage))}}}}catch(e){console.error("Error updating user data:",e)}finally{h(!1)}},[d,v]);(0,r.useEffect)(()=>{w(),d?document.body.classList.add("logged-in"):document.body.classList.remove("logged-in")},[d,w]),(0,r.useEffect)(()=>{u(!0)},[]);let j=p&&(null!==(t=null==o?void 0:o.width)&&void 0!==t?t:0)>=960;return(0,l.jsx)(l.Fragment,{children:j?(0,l.jsx)("header",{className:"site-header bg-nav-light hidden lg:block lg:fixed lg:left-0 lg:top-0 w-full z-[500]",role:"banner","aria-label":c("site-header"),children:(0,l.jsx)("nav",{className:"flex-grow flex justify-center h-[58px]",role:"navigation","aria-label":c("main-navigation"),"aria-expanded":n,children:(0,l.jsxs)("div",{className:"flex relative items-center justify-between w-full max-w-[1410px] px-[8px] 1423:px-[15px] py-2",children:[(0,l.jsx)("div",{className:"relative z-[2]",children:(0,l.jsx)($,{})}),(0,l.jsx)(L,{isOpen:n,setIsOpen:i}),(0,l.jsxs)("div",{className:"nav-right flex 1140:pl-[10px] space-x-[4px] 1140:space-x-[10px]",role:"group","aria-label":c("header-actions"),children:[(0,l.jsx)(P,{}),(0,l.jsx)(N,{}),(0,l.jsx)(x,{langLinks:a}),(0,l.jsx)(H,{isLoading:m,currentAvatarUrl:b,userStats:g})]})]})})}):(0,l.jsx)("div",{className:"lg:hidden",role:"banner","aria-label":c("mobile-header"),children:(0,l.jsx)(V,{currentAvatarUrl:b,userStats:g,langLinks:a})})})}function $(){let{locale:e}=(0,n.useRouter)(),t=(0,s.useTranslations)("common");return(0,l.jsxs)(d(),{href:"/",locale:"en"!==e?e:void 0,className:"logo block","aria-label":t("homepage-link"),onClick:t=>{t.preventDefault(),window.location.href=e&&"en"!==e?"/".concat(e):"/"},children:[(0,l.jsx)(g.A,{}),(0,l.jsx)("span",{className:"sr-only",children:t("homepage-link")})]})}var K=a(4953);function G(e){let{href:t,children:a}=e;return(0,l.jsx)(d(),{href:t,className:"sr-only font-inter tracking-wide text-primary-600 underline-offset-4 focus-visible:not-sr-only",tabIndex:0,children:a})}let Q=a.n(K)()(()=>a.e(439).then(a.bind(a,5439)).then(e=>e.Container),{loadableGenerated:{webpack:()=>[5439]},ssr:!0});function Y(e){let{children:t,className:a,langLinks:r}=e;(0,n.useRouter)();let c=(0,s.useTranslations)("common");return!function(){let e=(0,n.useRouter)();"/search-results"===e.pathname||e.pathname}(),(0,l.jsx)(o.A,{children:(0,l.jsxs)("div",{className:(0,i.A)("flex min-h-screen flex-col"),role:"application",children:[(0,l.jsx)(G,{href:"#main-content",children:c("skip-to-main-content")}),(0,l.jsx)("div",{role:"banner",children:(0,l.jsx)(X,{langLinks:r})}),(0,l.jsx)("main",{className:"grow lg:mt-[58px] lg:pt-[20px]",id:"main-content",tabIndex:-1,role:"main","aria-label":c("main-content"),children:(0,l.jsx)(Q,{children:(0,l.jsx)("div",{className:a,children:t})})}),(0,l.jsx)("div",{role:"contentinfo",children:(0,l.jsx)(h,{langLinks:r})})]})})}let ee=Y},4420:(e,t,a)=>{a.d(t,{A:()=>o});var l=a(4848),r=a(9965),n=a.n(r),s=a(6540);let i="/logo.webp";if("undefined"!=typeof document&&!document.querySelector('link[rel="preload"][href="'.concat(i,'"]'))){let e=document.createElement("link");e.rel="preload",e.href=i,e.as="image",e.type="image/webp",document.head.appendChild(e)}let o=(0,s.memo)(function(e){let{width:t=68,height:a=42,className:r="",priority:s=!0}=e;return(0,l.jsx)("div",{style:{width:t,height:a},className:"relative ".concat(r),children:(0,l.jsx)(n(),{src:i,alt:"Coolmath Games Logo",width:t,height:a,priority:s,style:{width:"100%",height:"100%",objectFit:"contain"},quality:95,loading:s?"eager":"lazy",unoptimized:!0})})})},9748:(e,t,a)=>{a.d(t,{$:()=>c});var l=a(4848),r=a(6540),n=a(3362),s=a(2732),i=a(7957);let o=(0,s.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",nohover:"bg-primary text-primary-foreground"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:a,variant:r,size:s,asChild:c=!1,children:d,...p}=e,u=c?n.DX:"button";return(0,l.jsx)(u,{className:(0,i.cn)(o({variant:r,size:s,className:a})),ref:t,...p,children:d})});c.displayName="Button"},1937:(e,t,a)=>{a.d(t,{l:()=>r});var l=a(6540);function r(){let[e,t]=(0,l.useState)(()=>({width:window.innerWidth,height:window.innerHeight})),a=(0,l.useCallback)(()=>{t({width:window.innerWidth,height:window.innerHeight})},[]);return(0,l.useEffect)(()=>(window.addEventListener("resize",a),window.addEventListener("orientationchange",a),()=>{window.removeEventListener("resize",a),window.removeEventListener("orientationchange",a)}),[a]),e}},7957:(e,t,a)=>{a.d(t,{Ri:()=>s,TV:()=>i,cn:()=>n,o$:()=>o});var l=a(4164),r=a(856);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,l.$)(t))}function s(e){var t;if("undefined"==typeof document)return null;let a="; ".concat(document.cookie).split("; ".concat(e,"="));return 2===a.length&&(null===(t=a.pop())||void 0===t?void 0:t.split(";").shift())||null}function i(e,t,a){let l="https://www.coolmathgames.com";if(!l){console.error("NEXT_PUBLIC_DRUPAL_BASE_URL is not defined");return}let r=new URL(l),n=new Date;a&&n.setTime(n.getTime()+a);let s="expires="+n.toUTCString();document.cookie="".concat(e,"=").concat(t,"; ").concat(s,"; path=/; domain=").concat(r.host)}function o(e,t,a){let l=a?e.filter(a):[],r=e.filter(e=>t(e)&&!(null==a?void 0:a(e)));return e.filter(e=>!t(e)&&!(null==a?void 0:a(e))).concat(r,l)}}}]);