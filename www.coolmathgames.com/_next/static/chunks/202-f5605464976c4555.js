"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[202,439],{7202:(e,t,a)=>{a.r(t),a.d(t,{default:()=>T});var r=a(4848),l=a(6540),n=a(4953),s=a.n(n),i=a(1151),o=a(7049),c=a(2578),d=a(6715),u=a(3114),m=a(7073);let x=Math.floor(2.5),p=Math.floor(1.5),h=(0,l.memo)(function(e){let{currentPage:t,totalPages:a,totalGames:l,visibleGamesCount:n,trigger:s="all",currentBreakpoint:i}=e,o=(0,c.useTranslations)("common.pagination"),{start:d,end:u}=(()=>{let e=m.FY[i];if("all"!==s&&"recommended"!==s){let a=(t-1)*e+1,r=Math.min(a+e-1,l);return{start:a,end:r}}if(1===t)return{start:1,end:Math.min(m.Y3[i],l)};let a=m.Y3[i]+(t-2)*e,r=Math.min(a+e,l);return{start:a+1,end:r}})();return(0,r.jsx)("div",{className:"text-center mt-2 font-button text-dim-med","aria-live":"polite","aria-atomic":"true",children:(0,r.jsx)("span",{children:o("showing_page",{start:d,end:u,totalGames:l})})})}),f=(0,l.memo)(function(e){let{number:t,isCurrentPage:a,href:l,onClick:n}=e,s=(0,u.U)("(min-width: 600px)");return(0,r.jsx)("div",{className:"relative w-[35px] h-[35px] bg-transparent group",children:(0,r.jsxs)("a",{href:l,"data-testid":"page-".concat(t),className:"rounded-[10px] border-2 ".concat(a?"border-primary":"border-[#131b29]"," flex items-center justify-center relative w-full h-full bg-transparent hover:border-primary transition-all duration-300 overflow-hidden"),onClick:e=>{e.preventDefault(),n()},"aria-current":a?"page":void 0,"aria-label":"Page ".concat(t),children:[(0,r.jsx)("span",{className:"absolute w-0 h-full transition-all duration-300 origin-left bg-primary top-0 left-0 group-hover:w-[120%] ease rounded-r-full"}),(0,r.jsx)("span",{className:"relative font-bold ".concat(s?"text-md":"text-sm"," ").concat(a?"":"text-[#b4c4d4]"," transition duration-300 group-hover:text-[#060d19] ease"),children:t})]})})}),g=(0,l.memo)(function(e){let{direction:t,href:a,onClick:l,label:n,rel:s}=e,i=(0,u.U)("(min-width: 600px)"),c="prev"===t?o.YJP:o.vKP;return(0,r.jsxs)("a",{href:a,"data-testid":"".concat(t,"-page"),className:"group overflow-hidden rounded-[20px] ".concat("next"===t?"ml-[5px]":""," \n        flex gap-[5px] justify-center items-center self-stretch relative \n        ").concat(i?"px-5":"w-[35px] px-2"," \n        h-[35px] bg-primary hover:bg-primary transition-all duration-300"),onClick:e=>{e.preventDefault(),l()},"aria-label":n,rel:s,children:[(0,r.jsx)("span",{className:"absolute w-0 h-full transition-all duration-300 origin-left bg-[#ffe420] top-0 left-0 group-hover:w-[120%] ease rounded-r-full"}),"prev"===t&&(0,r.jsx)(c,{className:"relative text-[#060d19] transform scale-[1.5] transition duration-300 group-hover:text-[#654900] ease"}),i&&(0,r.jsx)("small",{className:"relative text-center font-bold leading-[15px] text-sm text-[#060d19] transition duration-300 group-hover:text-[#654900] ease",children:n}),"next"===t&&(0,r.jsx)(c,{className:"relative text-[#060d19] transform scale-[1.5] transition duration-300 group-hover:text-[#654900] ease"})]})});function v(e){let{currentPage:t,totalPages:a,onPageChange:n,totalGames:s,visibleGamesCount:i}=e,o=(0,c.useTranslations)("common.pagination"),v=(0,d.useRouter)(),b=v.query.sort||"recommended",w=v.asPath.split("?")[0],j=()=>{let e=window.innerWidth;return e>=m.LO.xl2?"xl2":e>=m.LO.xl?"xl":e>=m.LO.lg?"lg":e>=m.LO.md?"md":e>=m.LO.sm?"sm":"xs"},[N,y]=(0,l.useState)(j());(0,l.useEffect)(()=>{let e=()=>{y(j())};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let k=(0,u.U)("(min-width: ".concat(m.LO.sm,"px)")),M=(0,l.useMemo)(()=>{if(!s)return 1;let e=m.FY[N];if("all"!==b&&"recommended"!==b)return Math.ceil(s/e);let t=m.Y3[N];return s<=t?1:1+Math.ceil((s-t)/e)},[s,N,b]),C=(0,l.useCallback)(e=>{let t=new URLSearchParams(v.query);return t.set("page",e.toString()),"".concat(w,"?").concat(t.toString())},[w,v.query]),E=(0,l.useMemo)(()=>{let e=[],a=k?5:3,r=k?x:p,l=Math.max(1,t-r),n=Math.min(M,t+r);t<=r?n=Math.min(M,a):t+r>=M&&(l=Math.max(1,M-a+1));for(let t=l;t<=n;t++)e.push(t);return e},[t,M,k]),L=(0,l.useCallback)(e=>{("az"!==b&&"za"!==b||e!==t)&&requestAnimationFrame(()=>{var t,a;n(e).catch(console.error);try{null===(t=window)||void 0===t||t.scrollTo({top:0,behavior:"smooth"})}catch(e){null===(a=window)||void 0===a||a.scrollTo(0,0)}})},[b,t,n]),O=(0,l.useMemo)(()=>({showEndEllipsis:M>E[E.length-1],showStartEllipsis:E[0]>1,showPrevButton:1!==t,showNextButton:t!==M}),[M,E,t]);return(0,r.jsxs)("nav",{className:"flex flex-col items-center",role:"navigation","aria-label":"Pagination Navigation",children:[(0,r.jsxs)("div",{className:"flex gap-2.5 items-start relative bg-transparent",style:{willChange:"contents"},children:[O.showPrevButton&&(0,r.jsx)(g,{direction:"prev",href:C(t-1),onClick:()=>L(t-1),label:o("prev"),rel:"prev"}),O.showStartEllipsis&&(0,r.jsx)("div",{className:"relative w-[35px] h-[35px] bg-transparent","aria-hidden":"true",children:(0,r.jsx)("div",{className:"rounded-[20px] border-2 border-[#131b29] px-[15px] py-2 flex flex-col gap-2.5 justify-center items-center relative w-[35px] h-[35px] bg-transparent",children:(0,r.jsx)("p",{className:"tracking-[0.054em] leading-[18px] text-lg text-[#b4c4d4]",children:"..."})})}),(0,r.jsxs)("div",{className:"flex gap-3.5 items-start relative bg-transparent",role:"group","aria-label":"Page buttons",children:[E.map(e=>(0,r.jsx)(f,{number:e,isCurrentPage:t===e,href:C(e),onClick:()=>L(e)},e)),O.showEndEllipsis&&(0,r.jsx)("div",{className:"relative w-[35px] h-[35px] bg-transparent","aria-hidden":"true",children:(0,r.jsx)("div",{className:"rounded-[20px] border-2 border-[#131b29] px-[15px] py-2 flex flex-col gap-2.5 justify-center items-center relative w-[35px] h-[35px] bg-transparent",children:(0,r.jsx)("p",{className:"tracking-[0.054em] leading-[18px] text-lg text-[#b4c4d4]",children:"..."})})})]}),O.showNextButton&&(0,r.jsx)(g,{direction:"next",href:C(t+1),onClick:()=>L(t+1),label:o("next"),rel:"next"})]}),(0,r.jsx)(h,{currentPage:t,totalPages:M,totalGames:s,visibleGamesCount:i,trigger:b,currentBreakpoint:N})]})}v.displayName="GameGridPagination";let b=(0,l.memo)(v);var w=a(5439),j=a(4980),N=a(7957),y=a(6336),k=a(9605),M=a(5692);let C=s()(()=>Promise.all([a.e(707),a.e(467)]).then(a.bind(a,9467)).then(e=>e.GameTeaser),{loadableGenerated:{webpack:()=>[9467]},ssr:!1}),E=(0,l.memo)(function(e){let{game:t,gridInView:a,teaserType:l}=e,{ref:n,inView:s}=(0,M.Wx)({triggerOnce:!0,rootMargin:"400px 0px",threshold:.1,skip:!a}),i=t.og?(0,y.s)(t.og):null,o=t.vdo?(0,y.s)(t.vdo):null,c="/".concat(t.alias);return i&&c?(0,r.jsx)("div",{ref:n,className:"h-full",children:(0,r.jsx)(C,{title:t.title,og:i,video:o||void 0,game_link:c,description:t.sd,game_cta:t.cta||"Play Now",alt:"Thumbnail for ".concat(t.title),inView:a&&s,isFeatured:"featured"===l,featuredColor:t.fc,mpv:t.mpv,gameType:t.gameType})}):null});E.displayName="GameGridItem";let L=(0,l.memo)(function(e){let{trigger:t,currentPage:a,currentBreakpoint:n}=e,s=(0,l.useMemo)(()=>"all"===t&&1===a?m.Y3[n]:m.FY[n],[t,a,n]);return(0,r.jsx)("div",{role:"list",className:(0,N.cn)("grid gap-5","all"===t&&1===a?"grid-rows-3":"grid-rows-5"),style:{gridTemplateColumns:P(n),overflow:"hidden"},children:Array(s).fill(null).map((e,t)=>(0,r.jsx)("div",{role:"listitem",className:"h-full",children:(0,r.jsx)(k.q,{className:"h-full w-full"})},t))})});L.displayName="GameGridSkeleton";let O={UP:"ArrowUp",DOWN:"ArrowDown",LEFT:"ArrowLeft",RIGHT:"ArrowRight",HOME:"Home",END:"End"},P=e=>{switch(e){case"xl2":return"repeat(5, 1fr)";case"xl":case"lg":return"repeat(4, 1fr)";case"md":return"repeat(3, 1fr)";default:return"repeat(1, 1fr)"}};function T(e){let{title:t,teaserType:a="regular",games:n=[],itemsPerBreakpoint:s,categoryId:o,trigger:c="all",currentPage:d=1,totalGames:u,onPageChange:x,loading:p=!1,categoriesIcon:h}=e,[f,g]=(0,l.useState)((()=>{let e=window.innerWidth;return e>=m.LO.xl2?"xl2":e>=m.LO.xl?"xl":e>=m.LO.lg?"lg":e>=m.LO.md?"md":e>=m.LO.sm?"sm":"xs"})()),[v,y]=(0,l.useState)(null),[k,C]=(0,l.useState)(1),[T,F]=(0,l.useState)(-1),{isLoading:Y,previousHeight:D,setPreviousHeight:G}=(0,i.R)(),S=(0,l.useRef)(null),A=(0,l.useRef)(n);(0,l.useEffect)(()=>{!Y&&S.current&&G(S.current.offsetHeight)},[Y,G]),(0,l.useEffect)(()=>{n.length>0&&(A.current=n)},[n]);let R=(0,l.useMemo)(()=>s?s[f]||m.FY[f]:"all"===c&&1===d?m.Y3[f]:m.FY[f],[f,s,c,d]),I=(0,l.useMemo)(()=>u&&x?"all"===c&&1===d?n.slice(0,m.Y3[f]):n.slice(0,m.FY[f]):n.slice(0,R),[n,R,u,x,f,c,d]),q=(0,l.useCallback)(()=>u?"all"===c?Math.max(1,1+Math.ceil(Math.max(0,u-m.Y3[f])/m.FY[f])):Math.max(1,Math.ceil(u/m.FY[f])):1,[u,f,c]);(0,l.useEffect)(()=>{let e=q();e!==k&&C(e)},[q,k]);let U=(0,l.useMemo)(()=>({cols:({xs:1,sm:1,md:3,lg:4,xl:4,xl2:5})[f]||4,totalItems:I.length}),[f,I.length]);(0,l.useEffect)(()=>{if(T>=0){var e;let t=null===(e=S.current)||void 0===e?void 0:e.querySelector('[data-focused="true"]');t&&(t.focus(),t.scrollIntoView({behavior:"smooth",block:"nearest"}))}},[T]);let W=(0,l.useCallback)(e=>{-1===T&&I.length>0&&F(0)},[T,I.length]),{ref:_,inView:z}=(0,M.Wx)({triggerOnce:!0,rootMargin:"200px 0px"}),B=(0,l.useCallback)(e=>{y(e),_(e)},[_]);(0,l.useEffect)(()=>{let e,t;let a=()=>{clearTimeout(e),cancelAnimationFrame(t),e=setTimeout(()=>{t=requestAnimationFrame(()=>{let e=window.innerWidth,t="xs";e>=m.LO.xl2?t="xl2":e>=m.LO.xl?t="xl":e>=m.LO.lg?t="lg":e>=m.LO.md?t="md":e>=m.LO.sm&&(t="sm"),g(t)})},150)};return a(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a),clearTimeout(e),cancelAnimationFrame(t)}},[]);let H=(0,l.useCallback)(e=>{let{cols:t,totalItems:a}=U,r=T+t,l=T-t;switch(e.key){case O.RIGHT:T<a-1&&F(T+1),e.preventDefault();break;case O.LEFT:T>0&&F(T-1),e.preventDefault();break;case O.DOWN:r<a&&F(r),e.preventDefault();break;case O.UP:l>=0&&F(l),e.preventDefault();break;case O.HOME:F(0),e.preventDefault();break;case O.END:F(a-1),e.preventDefault()}},[T,U,F]),V=(0,l.useCallback)(async e=>{if(v){let e=v.offsetTop;window.scrollTo({top:e-20,behavior:"smooth"})}x&&await x(e).catch(console.error)},[v,x]);return(0,r.jsx)("section",{className:"mb-6","aria-label":t,children:(0,r.jsxs)(w.Container,{children:[(0,r.jsx)(j.u,{icon:h,line:!0,className:"mb-4",children:t}),(0,r.jsx)("div",{className:(0,N.cn)("grid-container mb-12","all"===c&&1===d?"min-h-[360px]":"min-h-[800px]"),children:(0,r.jsx)("div",{ref:B,role:"list",tabIndex:0,onFocus:W,onKeyDown:H,"aria-label":"".concat(t," games list"),className:(0,N.cn)("grid relative transition-all duration-300 ease-in-out sort-by-css",!("all"===c&&1===d)&&"grid-rows-5","all"===c&&1===d&&"grid-rows-3",Y?"opacity-50":"opacity-100"),style:{height:Y&&D?"".concat(D,"px"):"auto",gap:"15px 20px",gridTemplateColumns:P(f),gridAutoRows:"1fr",overflow:"visible"},children:(p||Y)&&!A.current.length?(0,r.jsx)(L,{trigger:c,currentPage:d,currentBreakpoint:f}):I.map((e,t)=>(0,r.jsx)("div",{className:"h-full  ".concat("0"==e.mpv?"mobile-not-playable":""," ").concat("flash"==e.gameType?"game-type-flash":""),role:"listitem","data-desktop-only":"0"==e.mpv?"true":"false",tabIndex:t===T?0:-1,"aria-label":e.title,"data-focused":t===T,children:(0,r.jsx)(E,{game:e,gridInView:z,teaserType:a})},"".concat(e.nid,"-").concat(t)))})}),u&&x?(0,r.jsx)("nav",{className:"flex flex-col items-center gap-2","aria-label":"".concat(t," pagination"),children:(0,r.jsx)(b,{currentPage:d,totalPages:k,onPageChange:V,totalGames:u,visibleGamesCount:I.length})}):null]})})}},5439:(e,t,a)=>{a.r(t),a.d(t,{Container:()=>s});var r=a(4848),l=a(6540),n=a(7957);let s=l.forwardRef((e,t)=>{let{as:a="div",children:l,className:s,fluid:i=!1,innerClassName:o,...c}=e;return(0,r.jsx)(a,{...c,ref:t,children:(0,r.jsx)("div",{className:(0,n.cn)("w-full",o),children:l})})});s.displayName="Container"}}]);